# Mass-MP3-Rate-Converter-Script
Simple Python mass mp3 rate converter script

## Предыстория
Возникла у меня следуюшая ситуация: стриминговый сервис IceCast2 + ezstream оказался не способен на лету переключаться между mp3 с разной дискретизацией - при переходе с 44100 на 48000 воспроизводилась тишина, а в директории файлы были перемешаны так, что вручную искать и приводить все файлы к частоте 44100Гц было бы пустой тратой времени. Поэтому решил написан простой скрипт на Python для массовой конвертации MP3-файлов с частотой дискретизации **48000 Гц** в **44100 Гц**. Возможно он пригодится и вам.

## Функционал

- Автоматически сканирует указанную папку на наличие MP3-файлов
- Определяет частоту дискретизации каждого файла
- Конвертирует **только файлы с частотой 48000 Гц** в 44100 Гц
- Сохраняет оригинальные имена файлов
- Использует временный файл для безопасной замены

⚠️ **Если будете работать с этим скриптом на Линуксе, пролистайте вниз и прочитайте сперва раздел "Неочевидные нюансы"**

## Требования

Скрипт использует `ffmpeg` и `pydub` для анализа и перекодирования аудио. 

1. Убедитесь, что у вас установлены необходимые зависимости:

```bash
pip install pydub
```

2. Установите `ffmpeg` в систему:

- **Windows**: Скачайте с [https://ffmpeg.org](https://ffmpeg.org) и добавьте в PATH
- **macOS**: `brew install ffmpeg`
- **Linux (Ubuntu/Debian)**: `sudo apt install ffmpeg`


3. Загрузите файл  `mmp3conv.py` из этого репозитория
   

## Использование

1. Откройте `mmp3conv.py` и измените путь:
   ```python
   directory = "/ПУТЬ_К/MP3_ФАЙЛАМ"
   ```
   на путь к вашим MP3-файлами.

2. Запустите скрипт:
   ```bash
   python mmp3conv.py
   ```

Скрипт найдёт все MP3-файлы с частотой 48000 Гц и конвертирует их в 44100 Гц без потери качества.

Исходные файлы удаляются после успешной конвертации (замена происходит на месте).

## ⚠️ Неочевидные нюансы

В зависимости от версии Линукс возможно придётся использовать команды
```bash
   python3 mmp3conv.py
   ```

вместо

```bash
   python mmp3conv.py
   ```

pydub возможно придётся устанавливать 

```bash
pip3 install pydub
```

вместо 

```bash
pip install pydub
```

**Поэтому**, чтобы избежать на Линуксе "танцев с бубнами" рекомендую использовать виртуальное окружение для Python:

```bash
sudo apt install python3.12-venv

python3 -m venv my-venv

my-venv/bin/pip install pydub

my-venv/bin/python3 mmp3conv.py
```
